
<% if news != nil %>
  <% news.each do |news| %>
    <li>
      <div class="news_title">
          <a href="<%= news_index_path+'/'+news.id.to_s %>"><%= news.title %></a>
      </div>

      <div class="image">
         <img src="<%=news.images[0].url.to_s%>" alt="image">
      </div>
      <div class="news_content">
        <%= news.content.html_safe %>
      </div>

      <div id="comments">
      <%= t(:comments)%>
      <div id="fb-root"></div>
      <script>
        window.fbAsyncInit = function() {
          FB.init({appId: <%= Facebooker2.app_id %>, status: true, cookie: true,
                   xfbml: true});
        };
        (function() {
          var e = document.createElement('script'); e.async = true;

          // Todo: we need to check the locale!!!!!!!!!!!!
          //
          e.src = document.location.protocol + '//connect.facebook.net/zh_TW/all.js';

          document.getElementById('fb-root').appendChild(e);
        }());
      </script>
      <fb:comments href="<%= "http://heygotimes.heroku.com/news/"+news.id.to_s %>" num_posts="2" ></fb:comments>

      </div>
    </li>
    <%# if (index != 0) %>

    <%# end %>
  <% end %>
<% end %>


