(function(){
var _1="Today";
var _2=new Array("Sun","Mon","Tue","Wed","Thu","Fri","Sat");
var _3=new Array("January","February","March","April","May","June","July","August","September","October","November","December");
var _4=new Array();
var _5=new Array();
window.iui_ext={setItem:function(_6,_7){
_5[_6]=_7;
},getItem:function(_8){
return _5[_8];
},removeItem:function(_9){
_5[_9]=null;
},clear:function(){
_5=new Array();
},};
addEventListener("DOMContentLoaded",function(_a){
document.body.addEventListener("afterinsert",_b,false);
nodes=document.querySelectorAll("body > form");
for(var i=0;i<nodes.length;i++){
_c(nodes[i]);
}
},false);
function _c(_d){
if(_d.done){
return;
}
_d.done=true;
if(_d.tagName=="FORM"){
_d._onfocus=_d.onfocus;
_d._onblur=_d.onblur;
_d.onfocus=function(_e){
_17(_d,"var");
var _f=_d.getElementsByTagName("input");
for(var i=_f.length-1;i>=0;i--){
_1b(_f[i]);
if(_1d(_f[i],"date")&&_f[i].type!="date"){
_32(_f[i]);
}
}
_f=_d.getElementsByTagName("select");
for(var i=_f.length-1;i>=0;i--){
_1b(_f[i]);
if(_1d(_f[i],"panel")){
_2e(_f[i]);
}else{
if(_1d(_f[i],"az")){
_1f(_f[i]);
}
}
}
if(_d._onfocus){
_d._onfocus(_e);
}
};
_d.onblur=function(_10){
_11(_d,"input");
_11(_d,"select");
if(_d._onblur){
_d._onblur(_10);
}
};
}
};
function _b(e){
_c(e.insertedNode);
};
function _12(){
history.back();
};
function _11(_13,_14){
var _15=_13.getElementsByTagName(_14);
for(i=0;i<_15.length;i++){
_16(_15[i]);
}
};
function _16(tag){
try{
if(tag.tagName=="SELECT"){
window.iui_ext.setItem(tag.name,tag.options[tag.selectedIndex].value);
}else{
if(tag.type=="radio"){
if(tag.checked){
window.iui_ext.setItem(tag.name,tag.value);
}
}else{
if(tag.type=="checkbox"){
if(tag.checked){
window.iui_ext.setItem(tag.name,tag.value);
}else{
window.iui_ext.removeItem(tag.name);
}
}else{
window.iui_ext.setItem(tag.name,tag.value);
}
}
}
}
catch(e){
}
};
function _17(_18,_19){
var _1a=_18.getElementsByTagName(_19);
for(i=0;i<_1a.length;i++){
_1b(_1a[i]);
}
};
function _1b(tag){
try{
var _1c=window.iui_ext.getItem(tag.name?tag.name:tag.title);
if(_1c){
if(tag.tagName=="SELECT"){
}else{
if(tag.tagName=="VAR"){
if(_1d(tag,"_lookup")){
tag.className=tag.className.substring(0,tag.className.indexOf("_lookup")+7)+" "+_1c;
var _1e=tag.id.split("-");
tag.textContent=_4[_1e[0]][_1c];
}else{
tag.textContent=_1c;
}
}else{
if(tag.type=="radio"){
tag.checked=(tag.value==_1c);
}else{
if(tag.type=="checkbox"){
tag.checked=true;
}else{
tag.value=_1c;
}
}
}
}
}else{
if(tag.type=="checkbox"){
tag.checked=false;
}
}
}
catch(e){
alert(e);
}
};
function _1f(_20){
var _21=_22(_20);
var _23="az__"+_20.id;
var _24=_25(document.body,"ul","az",_23),n,c,o;
_24.title=_21;
_24.name=_20.name;
_24.addEventListener("focus",_26,true);
_24.addEventListener("blur",_27,true);
var nav=_25(_24,"nav");
_4[_20.name]=new Array();
for(var i=0;i<_20.options.length;i++){
o=_20.options[i];
_4[_20.name][o.value]=o.textContent;
n=o.textContent.charAt(0).toUpperCase();
if(n!=c){
c=n;
_25(_25(_24,"li","group"),"a",null,null,c).id=_23+"_"+c;
n=_25(nav,"div",null,null,c);
n.jump=_23+"_"+c;
n.addEventListener("click",_28,true);
}
n=_25(_24,"li",null,null,o.textContent);
n._value=o.value;
n.onclick=_29;
}
n=_20.options[_20.selectedIndex].value;
_2a(_20.parentNode,_21,_20.name,n,"#"+_23,_20.name+"-"+_20.id,_4[_20.name][n]);
};
var _2b;
function _26(e){
var a=this?this:e.target;
_2c(window.iui_ext.getItem(a.name),a);
_2b=f(a,"nav");
_2b.style.position="absolute";
_2d();
document.addEventListener("scroll",_2d,true);
};
function _27(){
document.removeEventListener("scroll",_2d,true);
_2b=null;
};
function _2d(){
_2b.style.top=(window.pageYOffset)+"px";
};
function _28(e){
var top=0,obj=$(e.target.jump);
do{
top+=obj.offsetTop;
}while(obj=obj.offsetParent);
document.body.scrollTop=top;
_2d();
};
function _29(e){
_2c(e.target._value,e.target.parentNode);
window.iui_ext.setItem(e.target.parentNode.name,e.target._value);
_12();
};
function _2c(sel,ul){
if(!sel){
return;
}
var lis=ul.getElementsByTagName("li");
for(var i=0;i<lis.length;i++){
if(lis[i]._value==sel){
lis[i].className="selected";
}else{
if(lis[i]._value){
lis[i].className=null;
}
}
}
};
function _2e(_2f){
var _30=_22(_2f);
var _31=_25(document.body,"form","panel","select__"+_2f.id),n;
_31.title=_30;
_31=_25(_31,"fieldset","radiogroup");
_4[_2f.name]=new Array();
for(var i=0;i<_2f.options.length;i++){
var o=_2f.options[i];
_4[_2f.name][o.value]=o.textContent;
var m=_25(_25(_31,"div","row"),"label",o.value,null,o.textContent);
m.htmlFor=_2f.id+"_option_"+o.value;
n=_25(m,"input",null,_2f.id+"_option_"+o.value);
n.type="radio";
n.value=o.value;
n.checked=(i==_2f.selectedIndex);
n.name=_2f.name;
m.onclick=n.onclick=function(){
(this.lastChild?this.lastChild:this).checked=true;
_12();
return false;
};
}
n=_2f.options[_2f.selectedIndex].value;
_2a(_2f.parentNode,_30,_2f.name,n,"#select__"+_2f.id,_2f.name+"-"+_2f.id,_4[_2f.name][n]);
};
function _32(_33){
var cal=_2a(_33.parentNode,_22(_33),_33.name,_33.value,"#_datepicker",_33.name,_33.value,"date");
cal.addEventListener("click",_34,true);
f(cal,"input").className=_33.className.replace("date","");
if($("_datepicker")){
return;
}
cal=_25(document.body,"form","panel","_datepicker");
var t=_25(cal,"p");
_25(t,"span","back","_dpback"," ").onclick=_35;
_25(t,"span","month","_dpmonth").onclick=_36;
_25(t,"input",null,"_dphidden").type="hidden";
_25(t,"span","fwd","_dpfwd"," ").onclick=_37;
t=_25(cal,"table",null,"_dptable");
t.cellSpacing=0;
t.cellPadding=0;
t.border=0;
t=_25(t,"colgroup");
_25(t,"col","sun");
_25(t,"col","mon");
_25(t,"col","tue");
_25(t,"col","wed");
_25(t,"col","thu");
_25(t,"col","fri");
_25(t,"col","sat");
t=_25(t.parentNode,"thead");
var i;
var tr=_25(t,"tr","days");
for(i=0;i<_2.length;i++){
_25(tr,"th",null,null,_2[i]);
}
t=_25(t.parentNode,"tbody");
for(i=1;i<7;i++){
tr=_25(t,"tr","wk"+i);
for(var day=0;day<7;day++){
_25(tr,"td",null,null," ");
}
}
};
function _34(e){
var a=this?this:e.target;
while(a&&a.tagName!="A"){
a=a.parentNode;
}
$("_datepicker").title=_22(a);
var dp=$("_dptable"),v=f(a,"input");
dp.minDate=_1d(v,"future")?new Date():null;
dp.maxDate=_1d(v,"past")?new Date():null;
a=$("_dphidden");
a.className=v.className;
a.name=v.name;
a.value=v.value;
dp.date=s2d(a);
dp.marker=new Date(dp.date);
_38();
};
function _35(){
_38(-1);
};
function _37(){
_38(1);
};
function _36(){
$("_dptable").marker=new Date();
_38();
};
function _38(_39){
var t=$("_dptable");
var d=t.marker;
if(_39){
d.setMonth(d.getMonth()+_39);
}
t.marker=d;
if(t.maxDate){
t.maxDate.setHours(23);
t.maxDate.setMinutes(59);
}
if(t.minDate){
t.minDate.setHours(0);
t.minDate.setMinutes(1);
}
$("_dpmonth").textContent=_3[d.getMonth()]+" "+(1900+d.getYear());
var _3a=new Date(d);
_3a.setDate(1);
$("_dpback").style.display=(t.minDate&&t.minDate>_3a)?"none":"block";
_3a.setDate(1-_3a.getDay());
var _3b=d.getMonth();
var _3c=new Date();
var trs=t.getElementsByTagName("tr");
for(var wk=1;wk<trs.length;wk++){
for(var i=0;i<7;i++){
var td=trs[wk].childNodes[i];
if((t.minDate&&_3a<t.minDate)||(t.maxDate&&_3a>t.maxDate)){
td.className="outofrange";
td.onclick=null;
td.date=null;
td.textContent=" ";
}else{
td.className=_3a.getMonth()==_3b?"current":"other";
if(_3d(_3a,t.date)){
td.className=td.className+" selected";
}
td.onclick=_3e;
td.date=new Date(_3a);
td.textContent=_3a.getDate();
}
if(_3d(_3a,_3c)){
td.className=td.className+" today";
}
_3a.setDate(_3a.getDate()+1);
}
}
$("_dpfwd").style.display=(t.maxDate&&t.maxDate<_3a)?"none":"block";
};
function _3e(){
var tds=this.parentNode.parentNode.getElementsByTagName("td");
for(var i=0;i<tds.length;i++){
if(_1d(tds[i],"selected")){
tds[i].className=tds[i].className.replace("selected","");
break;
}
}
this.className="selected "+this.className;
$("_dptable").date=this.date;
tds=$("_dphidden");
tds.value=d2s(this.date,tds.className);
iui_ext.setItem(tds.name,tds.value);
_12();
};
function _3d(a,b){
return (a.getDate()==b.getDate()&&a.getMonth()==b.getMonth()&&a.getFullYear()==b.getFullYear());
};
function _2a(row,_3f,_40,_41,_42,_43,_44,_45){
while(row.hasChildNodes()){
row.removeChild(row.firstChild);
}
var n=document.createElement("a");
n.href=_42;
n.textContent=_3f;
row.appendChild(n);
row=n;
n=document.createElement("input");
n.type="hidden";
n.name=_40;
n.value=_41;
row.appendChild(n);
_25(row,"var",_45?_45:"_lookup "+_41,_43,_44).name=_40;
return row;
};
function _25(_46,_47,_48,id,_49){
var c=document.createElement(_47);
if(_48){
c.className=_48;
}
if(id){
c.id=id;
}
if(_49){
c.textContent=_49;
}
_46.appendChild(c);
return c;
};
function _22(tag){
var l=tag.parentNode.getElementsByTagName("label");
if(l&&l.length>0){
return l[0].textContent;
}
for(var i=0;i<tag.childNodes.length;i++){
if(tag.childNodes[i].nodeType==3){
return tag.childNodes[i].textContent;
}
}
return tag.parentNode.textContent;
};
function s2d(s,_4a){
if(!_4a&&s.value){
_4a=s.className;
s=s.value;
}
var d=new Date();
if(_4b(s,_1)){
return d;
}
_4a=_4c(_4a);
s=s.replace(/[_\/\-]/g," ").split(" ");
var j=0;
for(var i=0;i<_4a.length&&j<s.length;i++){
if(s.length>0&&s[j].charAt(s.length-1)==","){
s[j]=s[j].substring(0,s[j].length-1);
}
switch(_4a.charAt(i)){
case "d":
d.setDate(_4d(s[j++]));
break;
case "D":
j++;
break;
case "m":
d.setMonth(_4d(s[j++])-1);
break;
case "M":
var n=0;
for(var m=0;m<_3.length;m++){
if(_4b(s[j],_3[m].substring(0,3))){
n=m;
break;
}
}
d.setMonth(n);
j++;
break;
case "y":
case "Y":
d.setYear((_4d(s[j++])%100)+2000);
break;
}
}
return d;
};
function d2s(d,_4e){
if(_1d(_4e,"today")&&_3d(d,new Date())){
return _1;
}
_4e=_4c(_4e);
var s="";
for(var i=0;i<_4e.length;i++){
switch(_4e.charAt(i)){
case "d":
s+=d.getDate();
break;
case "D":
s+=_2[d.getDay()];
break;
case "m":
s+=(d.getMonth()+1);
break;
case "M":
s+=_3[d.getMonth()].substring(0,3);
break;
case "y":
s+=(""+d.getFullYear()).substring(2);
break;
case "Y":
s+=d.getFullYear();
break;
case "c":
s+=",";
break;
case "-":
s+="-";
break;
case "_":
s+=" ";
break;
case "/":
s+="/";
break;
}
}
return s;
};
function _4c(_4f){
var c=_4f.split(" ");
for(var i=0;i<c.length;i++){
if(c[i].indexOf("/")>-1||c[i].indexOf("_")>-1||c[i].indexOf("-")>-1){
return c[i];
}
}
return "D_d_Mc_y";
};
function _4d(s){
while(s.charAt(0)=="0"||s.charAt(0)==" "){
s=s.substring(1);
}
return parseInt(s);
};
function _4b(a,b){
return (new String(a.toLowerCase())==(new String(b)).toLowerCase());
};
function $(i){
return document.getElementById(i);
};
function f(e,t){
return e.getElementsByTagName(t)[0];
};
function _1d(t,c){
return (" "+(t.className?t.className:t)+" ").indexOf(" "+c+" ")>-1;
};
})();

